---
layout: post
title: テキストの折りたたみと動的計画法
date: '2019-03-04T00:00:00.000+09:00'
author: s sato
tags:
- elixir
- algorithm
---

[MIT Open Course](https://www.youtube.com/watch?v=ENyox7kNKeY&list=WL&index=34&t=0s)を見ていたら、テキストの折りたたみに動的計画法を利用する方法が紹介されていた。  
動的計画法といえば、大学の時にナップザックを問題はならったが、いまいち何の役に立つのかよくわからないものだった、実際に使えそうな例を紹介してくれるとは流石MIT。  

というわけで実装してみた。折角の動的計画法なので、関数形言語のelixirでBottom-upのアプローチを取ってみる。  

### ”良い”テキストの折り返しとは？

以下のようなテキストを幅7のウィンドウ内で折り返す場合を考える  

```
aaa bb cc dddddd
```

各行を7文字以内で折り返すために、考えられるもっとも単純な方法は、テキストの初めから単語を取り出していき、取り出した単語を現在の行に追加して7文字を超えなければ、そのまま追加し、
超えるようであれば改行を加え新しい行に入れていくというものだ。  
この手順を実行すると上の文字列は次の様に折り返すことができる  
(以下の例では7文字以下の余計な空白を␣で表す)  

```
aaa bb␣
cc␣␣␣␣␣
dddddd␣
```

上の例の折り返しで各行を7文字以下にすることができているが、あまり良いとは言えない。
なぜなら、2行目に2文字しか入っておらず全体的なバランスが崩れてしまっているからだ。  
以下のように折り返した方が全体的なバランスとしてはよいのではないだろうか。  

```
aaa␣␣␣␣
bb cc␣␣
dddddd␣
```

### 評価関数の導入


